# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

import pydantic
import typing_extensions
from ...core.pydantic_utilities import UniversalBaseModel
from ...core.serialization import FieldMetadata


class CreateDatasetRunItemRequest(UniversalBaseModel):
    run_name: typing_extensions.Annotated[str, FieldMetadata(alias="runName")]
    run_description: typing_extensions.Annotated[
        typing.Optional[str], FieldMetadata(alias="runDescription")
    ] = pydantic.Field(default=None)
    """
    Description of the run. If run exists, description will be updated.
    """

    metadata: typing.Optional[typing.Any] = pydantic.Field(default=None)
    """
    Metadata of the dataset run, updates run if run already exists
    """

    dataset_item_id: typing_extensions.Annotated[
        str, FieldMetadata(alias="datasetItemId")
    ]
    observation_id: typing_extensions.Annotated[
        typing.Optional[str], FieldMetadata(alias="observationId")
    ] = None
    trace_id: typing_extensions.Annotated[
        typing.Optional[str], FieldMetadata(alias="traceId")
    ] = pydantic.Field(default=None)
    """
    traceId should always be provided. For compatibility with older SDK versions it can also be inferred from the provided observationId.
    """

    dataset_version: typing_extensions.Annotated[
        typing.Optional[dt.datetime], FieldMetadata(alias="datasetVersion")
    ] = pydantic.Field(default=None)
    """
    ISO 8601 timestamp (RFC 3339, Section 5.6) in UTC (e.g., "2026-01-21T14:35:42Z").
    Specifies the dataset version to use for this experiment run. 
    If provided, the experiment will use dataset items as they existed at or before this timestamp.
    If not provided, uses the latest version of dataset items.
    """

    model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(
        extra="allow", frozen=True
    )
